
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Connecting to the network Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="transfer.html" />
    
    
    <link rel="prev" href="arm.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../part1/blockchain.html">
            
                <a href="../part1/blockchain.html">
            
                    
                    Blockchain
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../part1/blockchain_type.html">
            
                <a href="../part1/blockchain_type.html">
            
                    
                    Types of Blockchain
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../part4/adhichain.html">
            
                <a href="../part4/adhichain.html">
            
                    
                    Adhichain
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../part4/install.html">
            
                <a href="../part4/install.html">
            
                    
                    Installation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="linux.html">
            
                <a href="linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="mac.html">
            
                <a href="mac.html">
            
                    
                    Mac
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="windows.html">
            
                <a href="windows.html">
            
                    
                    Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="arm.html">
            
                <a href="arm.html">
            
                    
                    ARM
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.3.2" data-path="connect.html">
            
                <a href="connect.html">
            
                    
                    Connecting to the network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="transfer.html">
            
                <a href="transfer.html">
            
                    
                    Transfer units
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../part2/smart_contract.html">
            
                <a href="../part2/smart_contract.html">
            
                    
                    Smart Contract
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../part6/writing_contract.html">
            
                <a href="../part6/writing_contract.html">
            
                    
                    Writing & compiling a contract
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../part6/creating_contract.html">
            
                <a href="../part6/creating_contract.html">
            
                    
                    Creating & deploying a contract
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../part6/interacting_contract.html">
            
                <a href="../part6/interacting_contract.html">
            
                    
                    Interacting with contracts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../part6/program.html">
            
                <a href="../part6/program.html">
            
                    
                    Contract Program 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../part6/program2.html">
            
                <a href="../part6/program2.html">
            
                    
                    Contract Program 2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../part2/applications.html">
            
                <a href="../part2/applications.html">
            
                    
                    Applications of Smart Contract
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Connecting to the network</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="connecting-to-the-network">Connecting to the network</h1>
<p></p><h3 id="how-peers-are-found">How Peers Are Found</h3>
Geth continuously attempts to connect to other nodes on the network until it has peers. If
you have UPnP enabled on your router or run ethereum on an Internet-facing server, it will
also accept connections from other nodes.<br>
Geth finds peers through something called the discovery protocol. In the discovery protocol,
nodes are gossipping with each other to find out about other nodes on the network. In order
to get going initially, geth uses a set of bootstrap nodes whose endpoints are recorded in the
source code.<br>
To change the bootnodes on startup, use the <code>--bootnodes</code> option and separate the nodes
by spaces. For example:<p></p>
<pre><code>geth --bootnodes enode://pubkey1@ip1:port1,enode://pubkey2@ip2:port2,enode://pubkey3@ip3:port3
</code></pre><p></p><h3 id="common-problems-with-connectivity">Common Problems With Connectivity</h3>
Sometimes you just can&apos;t get connected. The most common reasons are as follows:<p></p>
<ul>
<li>Your local time might be incorrect. An accurate clock is required to participate in the
Ethereum network. Check your OS for how to resync your clock (example sudo ntpdate
-s time.nist.gov) because even 12 seconds too fast can lead to 0 peers.</li>
<li>Some firewall configurations can prevent UDP traffic from flowing. You can use the
static nodes feature or admin.addPeer() on the console to configure connections by
hand.</li>
</ul>

<p>To start geth without the discovery protocol, you can use the <code>--nodiscover</code> parameter. You
only want this is you are running a test node or an experimental test network with fixed
nodes.</p>
<p></p><h3 id="checking-connectivity">Checking Connectivity</h3>
To check how many peers the client is connected to in the interactive console, the <code>net</code>
module has two attributes give you info about the number of peers and whether you are a
listening node.<p></p>
<pre><code>&gt; net.listening
true
&gt; net.peerCount
4
</code></pre><p>To get more information about the connected peers, such as IP address and port number,
supported protocols, use the <code>peers()</code> function of the <code>admin</code> object. <code>admin.peers()</code> returns
the list of currently connected peers.</p>
<pre><code>&gt; admin.peers
[{
  ID: &apos;a4de274d3a159e10c2c9a68c326511236381b84c9ec52e72ad732eb0b2b1a2277938f78593cdbe734e6002bf23114d434a085d260514ab336d4acdc312db671b&apos;,
  Name: &apos;Geth/v0.9.14/linux/go1.4.2&apos;,
  Caps: &apos;eth/60&apos;,
  RemoteAddress: &apos;5.9.150.40:30301&apos;,
  LocalAddress: &apos;192.168.0.28:39219&apos;
}, {
  ID: &apos;a979fb575495b8d6db44f750317d0f4622bf4c2aa3365d6af7c284339968eef29b69ad0dce72a4d8db5ebb4968de0e3bec910127f134779fbcb0cb6d3331163c&apos;,
  Name: &apos;Geth/v0.9.15/linux/go1.4.2&apos;,
  Caps: &apos;eth/60&apos;,
  RemoteAddress: &apos;52.16.188.185:30303&apos;,
  LocalAddress: &apos;192.168.0.28:50995&apos;
}, {
  ID: &apos;f6ba1f1d9241d48138136ccf5baa6c2c8b008435a1c2bd009ca52fb8edbbc991eba36376beaee9d45f16d5dcbf2ed0bc23006c505d57ffcf70921bd94aa7a172&apos;,
  Name: &apos;pyethapp_dd52/v0.9.13/linux2/py2.7.9&apos;,
  Caps: &apos;eth/60, p2p/3&apos;,
  RemoteAddress: &apos;144.76.62.101:30303&apos;,
  LocalAddress: &apos;192.168.0.28:40454&apos;
}, {
  ID: &apos;f4642fa65af50cfdea8fa7414a5def7bb7991478b768e296f5e4a54e8b995de102e0ceae2e826f293c481b5325f89be6d207b003382e18a8ecba66fbaf6416c0&apos;,
  Name: &apos;++eth/Zeppelin/Rascal/v0.9.14/Release/Darwin/clang/int&apos;,
  Caps: &apos;eth/60, shh/2&apos;,
  RemoteAddress: &apos;129.16.191.64:30303&apos;,
  LocalAddress: &apos;192.168.0.28:39705&apos;
} ]
</code></pre><p></p><p>To check the ports used by geth and also find your enode URI run:</p><p></p>
<pre><code>&gt; admin.nodeInfo
{
  Name: &apos;Geth/v0.9.14/darwin/go1.4.2&apos;,
  NodeUrl: &apos;enode://3414c01c19aa75a34f2dbd2f8d0898dc79d6b219ad77f8155abf1a287ce2ba60f14998a3a98c0cf14915eabfdacf914a92b27a01769de18fa2d049dbf4c17694@[::]:30303&apos;,
  NodeID: &apos;3414c01c19aa75a34f2dbd2f8d0898dc79d6b219ad77f8155abf1a287ce2ba60f14998a3a98c0cf14915eabfdacf914a92b27a01769de18fa2d049dbf4c17694&apos;,
  IP: &apos;::&apos;,
  DiscPort: 30303,
  TCPPort: 30303,
  Td: &apos;2044952618444&apos;,
  ListenAddr: &apos;[::]:30303&apos;
}
</code></pre><p></p><h3 id="custom-networks">Custom Networks</h3>
Sometimes you might not need to connect to the live public network, you can instead choose to create your own private testnet. This is very useful if you don&apos;t need to test external contracts and want just to test the technology, because you won&apos;t have to compete with other miners and will easily generate a lot of test ether to play around (replace 12345 with any non-negative number):<p></p>
<pre><code>geth -&#x2014;networkid=&quot;12345&quot; console
</code></pre><p>It is also possible to run geth with a custom genesis block from a JSON file by supplying the <code>--genesis flag</code>. The genesis JSON file should have the following format:</p>
<pre><code>{
  &quot;alloc&quot;: {
    &quot;dbdbdb2cbd23b783741e8d7fcf51e459b497e4a6&quot;: { 
        &quot;balance&quot;: &quot;1606938044258990275541962092341162602522202993782792835301376&quot;
    },
    &quot;e6716f9544a56c530d868e4bfbacb172315bdead&quot;: {
        &quot;balance&quot;: &quot;1606938044258990275541962092341162602522202993782792835301376&quot;
    },
    ...
  },
  &quot;nonce&quot;: &quot;0x000000000000002a&quot;,
  &quot;difficulty&quot;: &quot;0x020000&quot;,
  &quot;mixhash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;,
  &quot;coinbase&quot;: &quot;0x0000000000000000000000000000000000000000&quot;,
  &quot;timestamp&quot;: &quot;0x00&quot;,
  &quot;parentHash&quot;: &quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;,
  &quot;extraData&quot;: &quot;0x&quot;,
  &quot;gasLimit&quot;: &quot;0x2fefd8&quot;
}
</code></pre><p></p><h3 id="static-nodes">Static nodes</h3>
Geth also supports a feature called static nodes if you have certain peers you always want to connect to. Static nodes are re-connected on disconnects. You can configure permanent static nodes by putting something like the following into <code>&lt;datadir&gt;/geth/static-nodes.json</code>:<p></p>
<pre><code>[
  &quot;enode://f4642fa65af50cfdea8fa7414a5def7bb7991478b768e296f5e4a54e8b995de102e0ceae2e826f293c481b5325f89be6d207b003382e18a8ecba66fbaf6416c0@33.4.2.1:30303&quot;,
  &quot;enode://pubkey@ip:port&quot;
]
</code></pre><p>You can also add static nodes at runtime via the js console using <code>admin.addPeer()</code>:</p>
<pre><code>admin.addPeer(&quot;enode://f4642fa65af50cfdea8fa7414a5def7bb7991478b768e296f5e4a54e8b995de102e0ceae2e826f293c481b5325f89be6d207b003382e18a8ecba66fbaf6416c0@33.4.2.1:30303&quot;)
</code></pre><p>Caveat: Currently the console is lacking support for removing a peer, increasing peercount or adding a non-static peer but not to keep try reconnecting.</p>
<pre><code>golang &lt;3
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="arm.html" class="navigation navigation-prev " aria-label="Previous page: ARM">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="transfer.html" class="navigation navigation-next " aria-label="Next page: Transfer units">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Connecting to the network","level":"1.3.2","depth":2,"next":{"title":"Transfer units","level":"1.3.3","depth":2,"path":"part5/transfer.md","ref":"part5/transfer.md","articles":[]},"previous":{"title":"ARM","level":"1.3.1.4","depth":3,"path":"part5/arm.md","ref":"part5/arm.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"part5/connect.md","mtime":"2018-10-13T10:53:49.287Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-10-22T05:03:04.097Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

